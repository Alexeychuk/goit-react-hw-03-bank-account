{"version":3,"sources":["components/Controls/Controls.module.css","components/Balance/Balance.module.css","components/TransactionHistory/TransactionHistory.module.css","components/Dashboard/Dashboard.module.css","components/Controls/Controls.js","components/Balance/Balance.js","components/TransactionHistory/TransactionHistory.js","components/Dashboard/Dashboard.js","components/App/index.jsx","index.js"],"names":["module","exports","toast","configure","Controls","handleInput","e","setState","input","target","value","handleClick","preventDefault","props","handleTransaction","balance","state","date","Date","toLocaleString","amount","Number","transaction","id","shortid","generate","type","name","length","this","className","styles","controls","onChange","onClick","Component","Balance","transactions","handleWithdraw","filter","reduce","acc","role","aria-label","TransactionHistory","history","map","key","PureComponent","Dashboard","prevState","localStorage","setItem","JSON","stringify","localTransactions","parse","getItem","localBalance","dashboard","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.86457f19.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"controls\":\"Controls_controls__3-qSu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"balance\":\"Balance_balance__3cBGZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"history\":\"TransactionHistory_history__278OJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dashboard\":\"Dashboard_dashboard__2dUcV\"};","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport shortid from 'shortid';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport styles from './Controls.module.css';\n\ntoast.configure();\n\nexport default class Controls extends Component {\n  constructor() {\n    super();\n    this.state = {\n      input: '',\n    };\n  }\n\n  handleInput = e => {\n    this.setState({\n      input: e.target.value,\n    });\n  };\n\n  handleClick = e => {\n    e.preventDefault();\n    const { handleTransaction, balance } = this.props;\n    const { input } = this.state;\n\n    const date = new Date().toLocaleString();\n    const amount = Number(input);\n\n    const transaction = {\n      id: shortid.generate(),\n      type: e.target.name,\n      amount,\n      date,\n    };\n\n    if (input === '' || input === '0' || Number(input) < 0) {\n      toast('Введите сумму для проведения операции!');\n      this.setState({ input: '' });\n      return;\n    }\n\n    if (input.length > 1 && input[0] === '0') {\n      toast(' Некорректный ввод!');\n      this.setState({ input: '' });\n      return;\n    }\n\n    if (balance < transaction.amount && transaction.type === 'withdrawal') {\n      toast('На счету недостаточно средств для проведения операции!');\n      // console.log('not enough money');\n      this.setState({ input: '' });\n      return;\n    }\n\n    handleTransaction(transaction);\n    this.setState({ input: '' });\n  };\n\n  render() {\n    const { input } = this.state;\n    return (\n      <section className={styles.controls}>\n        <input type=\"number\" value={input} onChange={this.handleInput} />\n        <button type=\"button\" name=\"deposit\" onClick={this.handleClick}>\n          Deposit\n        </button>\n        <button type=\"button\" name=\"withdrawal\" onClick={this.handleClick}>\n          Withdraw\n        </button>\n      </section>\n    );\n  }\n}\n\nControls.propTypes = {\n  handleTransaction: PropTypes.func.isRequired,\n  balance: PropTypes.number.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Balance.module.css';\n\nconst Balance = ({ transactions, balance }) => {\n  const handleWithdraw = type => {\n    const resultValue = transactions\n      .filter(transaction => transaction.type === type)\n      .reduce((acc, transaction) => {\n        return Number(acc) + Number(transaction.amount);\n      }, 0);\n\n    return resultValue;\n  };\n\n  return (\n    <section className={styles.balance}>\n      <span role=\"img\" aria-label=\"deposit\">\n        ⬆️{handleWithdraw('deposit')}$\n      </span>\n      <span role=\"img\" aria-label=\"withdraw\">\n        ⬇️{handleWithdraw('withdrawal')}$\n      </span>\n      <span>Balance: {balance}$</span>\n    </section>\n  );\n};\n\nBalance.propTypes = {\n  transactions: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.string.isRequired,\n      type: PropTypes.string.isRequired,\n      amount: PropTypes.number.isRequired,\n      date: PropTypes.string.isRequired,\n    }),\n  ).isRequired,\n  balance: PropTypes.number.isRequired,\n};\n\nexport default Balance;\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './TransactionHistory.module.css';\n\nexport default class TransactionHistory extends PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {};\n  }\n\n  render() {\n    const { transactions } = this.props;\n    return (\n      <table className={styles.history}>\n        <thead>\n          <tr>\n            <th>Transaction</th>\n            <th>Amount</th>\n            <th>Date</th>\n          </tr>\n        </thead>\n        <tbody>\n          {transactions.map(transaction => (\n            <tr key={transaction.id}>\n              <td>{transaction.type}</td>\n              <td>{transaction.amount}$</td>\n              <td>{transaction.date}</td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    );\n  }\n}\n\nTransactionHistory.propTypes = {\n  transactions: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.string.isRequired,\n      type: PropTypes.string.isRequired,\n      amount: PropTypes.number.isRequired,\n      date: PropTypes.string.isRequired,\n    }),\n  ).isRequired,\n};\n","import React, { PureComponent } from 'react';\nimport Controls from '../Controls/Controls';\nimport Balance from '../Balance/Balance';\nimport TransactionHistory from '../TransactionHistory/TransactionHistory';\nimport styles from './Dashboard.module.css';\n\nexport default class Dashboard extends PureComponent {\n  constructor() {\n    super();\n\n    this.state = {\n      transactions: [],\n      balance: 0,\n    };\n  }\n\n  componentDidMount() {\n    const localTransactions = JSON.parse(localStorage.getItem('transactions'));\n    const localBalance = JSON.parse(localStorage.getItem('balance'));\n    if (localTransactions) {\n      this.setState({\n        transactions: localTransactions,\n        balance: localBalance,\n      });\n    }\n  }\n\n  handleTransaction = transaction => {\n    this.setState(\n      prevState => {\n        return {\n          transactions: [...prevState.transactions, transaction],\n          balance:\n            transaction.type === 'withdrawal'\n              ? prevState.balance - transaction.amount\n              : prevState.balance + transaction.amount,\n        };\n      },\n      () => {\n        localStorage.setItem(\n          'transactions',\n          JSON.stringify(this.state.transactions),\n        );\n        localStorage.setItem('balance', JSON.stringify(this.state.balance));\n      },\n    );\n  };\n\n  render() {\n    const { transactions, balance } = this.state;\n\n    return (\n      <div className={styles.dashboard}>\n        <Controls\n          handleTransaction={this.handleTransaction}\n          balance={balance}\n        />\n        <Balance transactions={transactions} balance={balance} />\n        <TransactionHistory transactions={transactions} balance={balance} />\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport Dashboard from '../Dashboard/Dashboard';\nimport './styles.css';\n\nconst App = () => {\n  return (\n    <div>\n      <Dashboard />\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/index';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}